# Swift Assignment 3 - SQLite データベース連携アプリ

## 概要

このプロジェクトは、SwiftUI と SQLite を組み合わせた iOS アプリケーションです。ユーザー情報（名前、メールアドレス、年齢）を入力し、SQLite データベースに保存する機能を提供します。

## 機能

- **ユーザー情報の入力**: 名前、メールアドレス、年齢を入力するフォーム
- **データベース保存**: 入力された情報を SQLite データベースに保存
- **入力値検証**: 適切な形式での入力を確保
- **レスポンシブ UI**: SwiftUI による直感的なユーザーインターフェース

## プロジェクト構成

```
Swift_Assignment3/
├── Swift_Assignment3.xcodeproj/     # Xcodeプロジェクトファイル
└── Swift_Assignment3/               # ソースコードディレクトリ
    ├── Swift_Assignment3App.swift   # アプリのエントリーポイント
    ├── ContentView.swift            # メインのUI画面
    ├── DatabaseManager.swift        # SQLiteデータベース管理クラス
    ├── Assets.xcassets/            # アセット（アイコン、色など）
    └── Swift_Assignment3.entitlements # セキュリティ設定
```

## 主要ファイルの説明

### 1. ContentView.swift

- **役割**: アプリのメイン UI 画面
- **機能**:
  - ユーザー入力フォーム（名前、メール、年齢）
  - 入力値の妥当性チェック
  - データベースへのデータ保存
  - 結果メッセージの表示

### 2. DatabaseManager.swift

- **役割**: SQLite データベースの操作を管理
- **機能**:
  - データベース接続
  - Users テーブルの作成
  - ユーザーデータの挿入

### 3. User 構造体

```swift
struct User {
    let id: Int
    let name: String
    let email: String
    let age: Int
}
```

## データベース設計

### Users テーブル

| カラム名 | データ型 | 制約                       | 説明                    |
| -------- | -------- | -------------------------- | ----------------------- |
| id       | INTEGER  | PRIMARY KEY, AUTOINCREMENT | ユーザー ID（自動生成） |
| name     | TEXT     | NOT NULL                   | ユーザー名              |
| email    | TEXT     | NOT NULL                   | メールアドレス          |
| age      | INTEGER  | -                          | 年齢                    |

## 環境要件

- **開発環境**: Xcode 16.4 以上
- **対象 OS**:
  - iOS 18.5 以上
  - macOS 15.5 以上
  - visionOS 2.5 以上
- **Swift 版本**: Swift 5.0
- **フレームワーク**: SwiftUI, SQLite3

## セットアップ手順

1. **プロジェクトのクローン**

   ```bash
   # プロジェクトファイルをダウンロード
   ```

2. **Xcode で開く**

   ```bash
   open Swift_Assignment3.xcodeproj
   ```

3. **ビルドと実行**
   - Xcode でプロジェクトを開く
   - シミュレーターまたは実機を選択
   - ⌘+R でビルド・実行

## 使用方法

1. **アプリを起動**
2. **ユーザー情報を入力**:
   - 名前: 任意の文字列
   - メールアドレス: 有効な形式（@と.を含む）
   - 年齢: 正の整数
3. **「ユーザーを登録」ボタンをタップ**
4. **結果メッセージを確認**
5. **「入力をクリア」で入力欄をリセット可能**

## 入力値検証

アプリは以下の検証を行います：

- **名前**: 空白以外の文字が必要
- **メールアドレス**: @と.を含む形式であること
- **年齢**: 正の整数であること

## データベースファイルの場所

SQLite データベースファイルは以下の場所に保存されます：

```
[アプリのDocumentsディレクトリ]/MyDatabase.sqlite
```

## 技術的特徴

- **SwiftUI**: 宣言的 UI フレームワークを使用
- **SQLite3**: 軽量なデータベースエンジン
- **MVVM パターン**: 状態管理に@State を使用
- **リアルタイム検証**: 入力値の即座な妥当性チェック
- **クロスプラットフォーム対応**: iOS、macOS、visionOS に対応

## 今後の拡張可能性

- ユーザー一覧表示機能
- データの編集・削除機能
- データのエクスポート機能
- より詳細な入力値検証
- ユーザー検索機能

## ライセンス

このプロジェクトは学習目的で作成されています。
